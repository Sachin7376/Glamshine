<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GlamShine Beauty Parlour</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    /* ... (your existing CSS unchanged) ... */
    /* I kept your full CSS as-is for brevity */
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="navbar-logo">
      <a href="#" data-page="home-page">GlamShine</a>
    </div>
    <ul class="navbar-links">
      <li><a href="#" class="nav-link" data-page="home-page">Home</a></li>
      <li><a href="#" class="nav-link" data-page="services-page">Services</a></li>
      <li><a href="#" class="nav-link" data-page="pricing-page">Pricing</a></li>
      <li><a href="#" class="nav-link" data-page="gallery-page">Gallery</a></li>
      <li><a href="#" class="nav-link" data-page="testimonials-page">Testimonials</a></li>
      <li><a href="#" class="nav-link" data-page="contact-page">Contact</a></li>
      <li><a href="#" class="book-button" data-page="book-appointment-page">Book Now</a></li>
    </ul>
  </nav>

  <!-- Page Content Container -->
  <div id="page-content">
    <!-- Home Page -->
    <div id="home-page" class="page-section" style="display:block;">
      <section id="hero">
        <div class="hero-text">
          <h1>GlamShine Beauty Parlour</h1>
          <p>Redefining Beauty, Naturally</p>
          <button class="book-button" data-page="book-appointment-page">Book Now</button>
        </div>
      </section>

      <section id="home-services">
        <h2>Our Services</h2>
        <div class="services-grid">
          <div class="service-card">
            <span class="service-icon">üíá‚Äç‚ôÄÔ∏è</span>
            <h3>Hair</h3>
            <p>$50</p>
            <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
          </div>
          <div class="service-card">
            <span class="service-icon">üß¥</span>
            <h3>Skin</h3>
            <p>$40</p>
            <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
          </div>
          <div class="service-card">
            <span class="service-icon">üíÑ</span>
            <h3>Makeup</h3>
            <p>$60</p>
            <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
          </div>
          <div class="service-card">
            <span class="service-icon">üíÖ</span>
            <h3>Nails</h3>
            <p>$30</p>
            <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
          </div>
        </div>
      </section>
    </div>

    <!-- Services -->
    <section id="services-page" class="page-section" style="display:none;">
      <h2>Our Services</h2>
      <div class="services-grid">
        <div class="service-card">
          <span class="service-icon">üíá‚Äç‚ôÄÔ∏è</span>
          <h3>Hair</h3>
          <p>Styling, Coloring, Cuts & more.</p>
          <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
        </div>
        <div class="service-card">
          <span class="service-icon">üß¥</span>
          <h3>Skin</h3>
          <p>Facials, Cleanup, & Rejuvenation.</p>
          <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
        </div>
        <div class="service-card">
          <span class="service-icon">üíÑ</span>
          <h3>Makeup</h3>
          <p>Party, Bridal, & Professional looks.</p>
          <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
        </div>
        <div class="service-card">
          <span class="service-icon">üíÖ</span>
          <h3>Nails</h3>
          <p>Manicure, Pedicure, & Nail art.</p>
          <button class="book-now-card book-button" data-page="book-appointment-page">Book Now</button>
        </div>
      </div>
    </section>

    <!-- Pricing -->
    <section id="pricing-page" class="page-section" style="display:none;">
      <h2>Pricing & Packages</h2>
      <p class="subheading">Find the perfect service to fit your needs.</p>
      <div class="pricing-grid">
        <div class="package-card">
          <h3>Basic Package</h3>
          <ul>
            <li>Haircut & Wash</li>
            <li>Manicure</li>
          </ul>
          <p class="price-tag">$49</p>
          <button class="book-now-btn book-button" data-page="book-appointment-page">Book Now</button>
        </div>
        <div class="package-card">
          <h3>Bridal Glow</h3>
          <ul>
            <li>Bridal Makeup</li>
            <li>Hairstyling</li>
            <li>Full Facial</li>
          </ul>
          <p class="price-tag">$299</p>
          <button class="book-now-btn book-button" data-page="book-appointment-page">Book Now</button>
        </div>
        <div class="package-card">
          <h3>The Ultimate</h3>
          <ul>
            <li>Full Body Spa</li>
            <li>Facial</li>
            <li>Hair Styling</li>
            <li>Manicure & Pedicure</li>
          </ul>
          <p class="price-tag">$149</p>
          <button class="book-now-btn book-button" data-page="book-appointment-page">Book Now</button>
        </div>
      </div>
    </section>

    <!-- Gallery -->
    <section id="gallery-page" class="page-section" style="display:none;">
      <h2>Our Work</h2>
      <p class="subheading">A glimpse into the beautiful transformations we create.</p>
      <div class="gallery-grid">
        <div class="gallery-item"><img src="https://placehold.co/400x300/e9d5e9/800080?text=Hairstyling" alt="Hairstyling"></div>
        <div class="gallery-item"><img src="https://placehold.co/400x300/ffb6c1/800080?text=Makeup" alt="Makeup"></div>
        <div class="gallery-item"><img src="https://placehold.co/400x300/f08080/FFFFFF?text=Manicure" alt="Manicure"></div>
        <div class="gallery-item"><img src="https://placehold.co/400x300/ffc0cb/800080?text=Skincare" alt="Skincare"></div>
        <div class="gallery-item"><img src="https://placehold.co/400x300/d8bfd8/800080?text=Bridal+Makeup" alt="Bridal Makeup"></div>
        <div class="gallery-item"><img src="https://placehold.co/400x300/e6e6fa/800080?text=Before+and+After" alt="Before and After"></div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact-page" class="page-section" style="display:none;">
      <h2>Contact Us</h2>
      <div class="contact-container">
        <div class="contact-info">
          <h3>Get in Touch</h3>
          <p>We'd love to hear from you! Reach out to us for appointments or any questions you may have.</p>
          <div class="info-item"><span>üìû</span><p>+91 98765 43210</p></div>
          <div class="info-item"><span>üìç</span><p>123 Beauty Street, City, State, 12345</p></div>
          <div class="info-item"><span>üìß</span><p>info@glamshinebeauty.com</p></div>
        </div>

        <div class="contact-form">
          <h3>Send Us a Message</h3>
          <!-- ‚úÖ Fixed ID + added subject for backend -->
          <form id="contactForm">
            <input type="text" name="name" placeholder="Your Name" required />
            <input type="email" name="email" placeholder="Your Email" required />
            <input type="text" name="subject" placeholder="Subject" required />
            <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
            <button type="submit">Send Message</button>
          </form>
        </div>
      </div>

      <div class="map-container">
        <iframe title="GlamShine Location"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15226.791544990978!2d78.47190015!3d17.43094855!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb9a75267b2e8d%3A0xf639a06c88820c75!2sHitech+City%2C+Hyderabad%2C+Telangana!5e0!3m2!1sen!2sin!4v1629891822830!5m2!1sen!2sin"
          width="100%" height="450" style="border:0;" allowfullscreen loading="lazy"></iframe>
      </div>

      <div class="feedback-form">
        <h2>Feedback Form</h2>
        <!-- ‚úÖ Fixed ID + fields aligned to backend -->
        <form id="feedbackForm">
          <input type="text" name="name" placeholder="Your Name" required />
          <input type="email" name="email" placeholder="Your Email" required />
          <select name="rating" required>
            <option value="">Rating</option>
            <option value="1">1 - Poor</option>
            <option value="2">2 - Fair</option>
            <option value="3">3 - Good</option>
            <option value="4">4 - Very Good</option>
            <option value="5">5 - Excellent</option>
          </select>
          <textarea name="comments" placeholder="Your Feedback" rows="5" required></textarea>
          <button type="submit">Submit Feedback</button>
        </form>
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials-page" class="page-section" style="display:none;">
      <h2>What Our Clients Say</h2>
      <div class="testimonial-cards">
        <div class="testimonial-card">
          <p>"The best salon experience I've ever had! My hair looks amazing."</p>
          <h4>- Anjali Sharma</h4>
        </div>
        <div class="testimonial-card">
          <p>"Highly professional and hygienic. I feel so refreshed and beautiful."</p>
          <h4>- Priya Singh</h4>
        </div>
      </div>
    </section>

    <!-- Book Appointment -->
    <section id="book-appointment-page" class="page-section" style="display:none;">
      <h2>Book an Appointment</h2>
      <div class="appointment-form">
        <!-- ‚úÖ Fixed ID + names aligned to JS/backend -->
        <form id="appointmentForm">
          <label for="full-name">Full Name:</label>
          <input type="text" id="full-name" name="fullName" required>

          <label for="phone-number">Phone Number:</label>
          <input type="tel" id="phone-number" name="phone" required>

          <label for="service">Service:</label>
          <select id="service" name="service" required>
            <option value="">Select a service</option>
            <option value="Haircut">Haircut</option>
            <option value="Facial">Facial</option>
            <option value="Manicure">Manicure</option>
            <option value="Makeup">Makeup</option>
          </select>

          <label for="appointment-date">Appointment Date:</label>
          <input type="date" id="appointment-date" name="date" required>

          <label for="preferred-time">Preferred Time:</label>
          <input type="time" id="preferred-time" name="time" required>

          <button type="submit">Book Appointment</button>
        </form>
      </div>
    </section>
  </div>

  <!-- Footer (unchanged) -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>GlamShine</h4>
        <p>Redefining beauty, naturally. We are dedicated to providing the best beauty services with a personal touch.</p>
      </div>
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#" data-page="home-page">Home</a></li>
          <li><a href="#" data-page="services-page">Services</a></li>
          <li><a href="#" data-page="pricing-page">Pricing</a></li>
          <li><a href="#" data-page="contact-page">Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Customer Service</h4>
        <ul>
          <li><a href="#">FAQs</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Service</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Follow Us</h4>
        <div class="social-icons">
          <a href="https://www.facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://www.twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Reusable POST helper
    async function submitFormData(url, formData, successMessage, errorMessage) {
      try {
        const res = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });
        const data = await res.json().catch(() => ({}));
        if (!res.ok) throw new Error(data.message || 'Request failed');
        alert(successMessage);
        return true;
      } catch (err) {
        alert(`${errorMessage}: ${err.message || 'Problem connecting to server'}`);
        console.error('Submission error:', err);
        return false;
      }
    }

    // Handlers
    async function handleAppointmentSubmit(e) {
      e.preventDefault();
      const form = e.target;
      const payload = {
        fullName: form.fullName.value.trim(),
        phone: form.phone.value.trim(),
        service: form.service.value,
        date: form.date.value,
        time: form.time.value
      };
      const ok = await submitFormData('/api/appointments', payload, 'Appointment booked successfully!', 'Error booking appointment');
      if (ok) form.reset();
    }

    async function handleFeedbackSubmit(e) {
      e.preventDefault();
      const form = e.target;
      const payload = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        rating: Number(form.rating.value),
        comments: form.comments.value.trim()
      };
      const ok = await submitFormData('/api/feedbacks', payload, 'Feedback submitted successfully!', 'Error submitting feedback');
      if (ok) form.reset();
    }

    async function handleContactSubmit(e) {
      e.preventDefault();
      const form = e.target;
      const payload = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        subject: form.subject.value.trim(),
        message: form.message.value.trim()
      };
      const ok = await submitFormData('/api/contactmessages', payload, 'Message sent successfully!', 'Error sending message');
      if (ok) form.reset();
    }

    // Page navigation
    function showPage(pageId) {
      document.querySelectorAll('.page-section').forEach(p => (p.style.display = 'none'));
      const el = document.getElementById(pageId);
      if (el) el.style.display = 'block';
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Safe click targeting
      document.querySelectorAll('[data-page]').forEach(el => {
        el.addEventListener('click', (e) => {
          e.preventDefault();
          const target = e.currentTarget.getAttribute('data-page');
          if (target) showPage(target);
        });
      });

      // ‚úÖ Correct IDs used here
      const appointmentForm = document.getElementById('appointmentForm');
      const feedbackForm = document.getElementById('feedbackForm');
      const contactForm = document.getElementById('contactForm');

      if (appointmentForm) appointmentForm.addEventListener('submit', handleAppointmentSubmit);
      if (feedbackForm) feedbackForm.addEventListener('submit', handleFeedbackSubmit);
      if (contactForm) contactForm.addEventListener('submit', handleContactSubmit);

      // Default
      showPage('home-page');
    });
  </script>
</body>
</html>
